<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva - Ingeniería Civil UCA</title>
<style>
body { font-family: Arial, sans-serif; background: #f9f9f9; padding: 20px; }
h1 { text-align: center; }
.materia { display: inline-block; padding: 8px 14px; margin: 5px; border: 2px solid #333; border-radius: 6px; cursor: pointer; user-select: none; background: #fff; transition: 0.2s; }
.materia.aprobada { background: #b2fab4; text-decoration: line-through; color: #0a430a; border-color: #0a430a; }
.materia.disabled { opacity: 0.4; cursor: not-allowed; }
.anio { margin-top: 25px; font-weight: bold; font-size: 18px; }
</style>
</head>
<body>
<h1>Malla Interactiva - Ingeniería Civil UCA</h1>
<div id="malla"></div>
<script>
const materias = [
  { nombre: "Introducción a la Ingeniería", correlativas: [] },
  { nombre: "Química I", correlativas: [] },
  { nombre: "Complementos de Matemáticas", correlativas: [] },
  { nombre: "Cálculo Elemental", correlativas: [] },
  { nombre: "Informática General", correlativas: [] },
  { nombre: "Introducción a la filosofía", correlativas: [] },
  { nombre: "Química II", correlativas: ["Química I"] },
  { nombre: "Representación Gráfica Digital", correlativas: [] },
  { nombre: "Álgebra y Geometría", correlativas: ["Complementos de Matemáticas"] },
  { nombre: "Seminario de la profundización filosófica", correlativas: ["Introducción a la filosofía"] },
  { nombre: "Física I", correlativas: ["Cálculo Elemental"] },
  { nombre: "Física II", correlativas: ["Física I"] },
  { nombre: "Introducción a la Ingeniería Civil", correlativas: ["Introducción a la Ingeniería"] },
  { nombre: "Cálculo Avanzado", correlativas: ["Cálculo Elemental", "Álgebra y Geometría"] },
  { nombre: "Estabilidad I", correlativas: ["Física I"] },
  { nombre: "Introducción a la Teología", correlativas: ["Introducción a la filosofía"] },
  { nombre: "Representación Gráfica Digital Aplicada", correlativas: ["Representación Gráfica Digital"] },
  { nombre: "Estabilidad II", correlativas: ["Estabilidad I"] },
  { nombre: "Física III", correlativas: ["Física II", "Cálculo Avanzado"] },
  { nombre: "Probabilidad y Estadística", correlativas: [] },
  { nombre: "Seminario de Profundización Teológica", correlativas: ["Introducción a la Teología"] },
  { nombre: "Matemática Superior", correlativas: ["Cálculo Avanzado"] },
];

const aprobadas = JSON.parse(localStorage.getItem("materiasAprobadas") || "[]");

function render() {
  const mallaDiv = document.getElementById("malla");
  mallaDiv.innerHTML = "";
  materias.forEach(mat => {
    const div = document.createElement("div");
    div.className = "materia";
    div.textContent = mat.nombre;
    const requisitosCumplidos = mat.correlativas.every(c => aprobadas.includes(c));
    if (!requisitosCumplidos && !aprobadas.includes(mat.nombre)) {
      div.classList.add("disabled");
    }
    if (aprobadas.includes(mat.nombre)) {
      div.classList.add("aprobada");
    }
    div.onclick = () => {
      if (!requisitosCumplidos && !aprobadas.includes(mat.nombre)) return;
      if (aprobadas.includes(mat.nombre)) {
        const idx = aprobadas.indexOf(mat.nombre);
        if (idx > -1) aprobadas.splice(idx, 1);
      } else {
        aprobadas.push(mat.nombre);
      }
      localStorage.setItem("materiasAprobadas", JSON.stringify(aprobadas));
      render();
    };
    mallaDiv.appendChild(div);
  });
}

render();
</script>
</body>
</html>

